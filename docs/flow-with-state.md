# Потоки с состоянием: общее описание

Поток с состоянием это [поток выполнения](botflow.md#потоки), который способен
запоминать контекст относительно конкретного пользователя и/или чата

Поток с состоянием добавляется в общий ход исполнения как и любой другой поток
методом `IBotService::addFlow` 

Если в одном контексте (пользователь/чат) есть несколько активных состояний потока, 
то контроль    

# Потоки с состоянием: структура кода

## FlowState

Состояние контекста потока

* `telegram_user_id` к какому пользователю относится состояние потока `FlowState`
* `telegram_chat_id` к какому чату относится состояние потока `FlowState`

## FlowStateManager

## IFlowStateRepository

## CommonBotFlowWithState
